<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Mecacell by jdisset</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Mecacell</h1>
      <h2 class="project-tagline">MecaCell: an Open-source Efficient Cellular Physics Engine</h2>
      <a href="https://github.com/jdisset/MecaCell" class="btn">View on GitHub</a>
      <a href="https://github.com/jdisset/MecaCell/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/jdisset/MecaCell/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="mecacell" class="anchor" href="#mecacell" aria-hidden="true"><span class="octicon octicon-link"></span></a>MecaCell</h1>

<p>MecaCell is an open-source cellular physics agent-based simulation platform. It is designed with artificial life and morphogenetic engineering in mind and tries to stay not too invasive, lightweight and easily extensible.
It comes in the form of two libraries :</p>

<ul>
<li>
<strong>MecaCell</strong> is the <em>core</em> library which contains everything you need to run simulations in console or with your own viewer. It is written in C++11 and has no dependencies other than the C++ standard library.</li>
<li>
<strong>MecaCellViewer</strong> is a <em>viewer</em> library. It is written in C++, uses OpenGL and depends on Qt5.</li>
</ul>

<p><img src="https://raw.githubusercontent.com/jdisset/MecaCell/screens/githubmecacell.jpg" alt="screenshots"></p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install</h2>

<p>You will need cmake 2.8+, a relatively recent C++ compiler (C++11 support is required) and Qt 5.2+</p>

<ul>
<li>Clone this repository</li>
<li>cd in it and create a build directory</li>
<li>cmake .. &amp;&amp; make &amp;&amp; make install</li>
</ul>

<h2>
<a id="basic-usage--ultra-simple-example" class="anchor" href="#basic-usage--ultra-simple-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic usage &amp; ultra simple example</h2>

<p>You need at least one <strong>cell type</strong>.</p>

<p>Your cell type must inherit from the MecaCell::ConnectableCell (it uses the curriously reccuring template for performances reason, so the inherit line is a little bit more verbose):</p>

<div class="highlight highlight-c++"><pre><span class="pl-k">class</span> <span class="pl-en">MyCell</span> : <span class="pl-k">public</span> <span class="pl-en">MecaCell</span>::ConnectableCell&lt;MyCell&gt; {</pre></div>

<p>a cell is required to have at least 2 methods:</p>

<div class="highlight highlight-c++"><pre>    <span class="pl-c">// returns the adhesion coef (between 0 &amp; 1) with the cell *c</span>
    <span class="pl-k">double</span> <span class="pl-en">getAdhesionWith</span>(<span class="pl-k">const</span> MyCell *c) { <span class="pl-k">return</span> <span class="pl-c1">0.9</span>; }</pre></div>

<div class="highlight highlight-c++"><pre>    <span class="pl-c">// update routine, called at every loop iteration</span>
    <span class="pl-c">// returns a pointer to a new cell if division</span>
    <span class="pl-c">// returns nullptr if not</span>
    MyCell* <span class="pl-en">updateBehavior</span>(<span class="pl-k">double</span> deltaTime) {
        <span class="pl-c">// access inputs here</span>
        <span class="pl-k">return</span> <span class="pl-v">nullptr</span>;
    }
};</pre></div>

<p>Let's now create a scenario:</p>

<div class="highlight highlight-c++"><pre><span class="pl-k">class</span> <span class="pl-en">MyScenario</span> {</pre></div>

<p>A scenario needs to contain a MecaCell::BasicWorld&lt;cell_type,integration_mode&gt; and let the viewer acces to it:</p>

<div class="highlight highlight-c++"><pre>    <span class="pl-k">using</span> World = MecaCell::BasicWorld&lt;MyCell, MecaCell::Euler&gt;;
<span class="pl-k">private:</span>
    World w;

<span class="pl-k">public:</span>
    World &amp;<span class="pl-en">getWorld</span>() { <span class="pl-k">return</span> w; }</pre></div>

<p>It should also contain at least these 2 methods:</p>

<div class="highlight highlight-c++"><pre>    <span class="pl-c">// called at initialisation</span>
    <span class="pl-k">void</span> <span class="pl-en">init</span>(<span class="pl-k">int</span> argc, <span class="pl-k">char</span>** argv) {
        <span class="pl-c">// here we just add a cell at (0,0,0);</span>
        w.<span class="pl-c1">addCell</span>(<span class="pl-k">new</span> <span class="pl-c1">Cell</span>(<span class="pl-c1">MecaCell::Vec::zero</span>()));
    }</pre></div>

<div class="highlight highlight-c++"><pre>    <span class="pl-k">void</span> <span class="pl-en">loop</span>(){
        <span class="pl-c">// this code is called before every frame by the viewer</span>
        <span class="pl-c">// here we just call the world update method, which will handle all the physics</span>
    <span class="pl-c">// and call our MyCell::updateBehavior() method</span>
        w.<span class="pl-c1">update</span>();
        <span class="pl-c">// handle events, plug your own methods call, whatever you want goes in this method...</span>
    }
};</pre></div>

<p>Now for the main.cpp:</p>

<div class="highlight highlight-c++"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>mecacell/mecacell.h<span class="pl-pds">&gt;</span></span>
#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>mecacell/viewer/viewer.h<span class="pl-pds">&gt;</span></span>
#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">"</span>myscenario.h<span class="pl-pds">"</span></span>
#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">"</span>mycell.h<span class="pl-pds">"</span></span>

<span class="pl-k">int</span> <span class="pl-en">main</span>(<span class="pl-k">int</span> argc, <span class="pl-k">char</span> **argv) {
    MecacellViewer::Viewer&lt;MyScenario&lt;MyCell&gt;&gt; v;
    <span class="pl-k">return</span> v.<span class="pl-c1">exec</span>(argc, argv);
}
</pre></div>

<p>That's it for our extremely basic example. Now you can compile your project (don't forget to link to mecacell library and mecacellviewer + Qt) and run it. You can run it without the viewer by just repeatedly calling yout scenario::loop() method (don't forget to init() first) instead of creating a viewer instance.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/jdisset/MecaCell">Mecacell</a> is maintained by <a href="https://github.com/jdisset">jdisset</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
